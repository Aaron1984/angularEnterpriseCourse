<div class="login-container">
  <h1>Resergo</h1>
  @if (authStore.isLoggedIn()) {
    <p>Bienvenido, {{ authStore.user()?.name }}</p>
    <button (click)="handleLogout()">Cerrar sesión</button>
  }
  @else {
  <form class="login-form" (ngSubmit)="handleLogin()">
    <label for="email">Email</label>
    <input
      name="email"
      type="email"
      autocomplete="email"
      [ngModel]="email()"
      (ngModelChange)="email.set($event)"
      placeholder="Correo electrónico"
      required
      />

    <label for="password">Contraseña</label>
    <input
      name="password"
      type="password"
      autocomplete="current-password"
      [ngModel]="password()"
      (ngModelChange)="password.set($event)"
      placeholder="Contraseña"
      required
      />

    <button type="submit" [disabled]="!validForm()">Acceder</button>

    <a href="#" class="forgot-password">¿Olvidaste la contraseña?</a>

    @if(error()) {
      <div>
        <p class="error">{{ error() }}</p>
      </div>
    }

    @if (error()) {
      <div>
        <p class="error">{{ error() }}</p>
      </div>
    }
  </form>
}
</div>

